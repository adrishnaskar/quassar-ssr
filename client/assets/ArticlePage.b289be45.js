var B=Object.defineProperty;var D=(t,s,o)=>s in t?B(t,s,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[s]=o;var w=(t,s,o)=>(D(t,typeof s!="symbol"?s+"":s,o),o);import{Q as h}from"./base-store.242fa715.js";import{k as I,q as C,c as P,B as A,s as r,t as n,x as a,u as i,C as c,D as b,E as _,U as V,y as d,K as g,F as k,v as S,ab as $,M as q,N as T,aa as Q,A as F,r as j,P as x,z as E,T as H,ac as z}from"./index.1edd4ed6.js";import{A as K}from"./article-store.71432bad.js";import{r as y}from"./helpers.3ed3ec06.js";import{R as U}from"./RatingComponent.97e340bb.js";import{_ as L}from"./plugin-vue_export-helper.21dcd24c.js";import"./QIcon.844f6ac4.js";var M=(t=>(t[t.Recommended=0]="Recommended",t[t.Cheapest=1]="Cheapest",t[t.Reviews=2]="Reviews",t[t.Distance=3]="Distance",t))(M||{});class W{constructor(){w(this,"input");w(this,"search");this.search=I({searchType:null,query:null,location:null,queryId:null,locationId:null,lat:null,lng:null,order:M.Recommended,page:1}),this.input=I({query:"",location:""})}setQuery(s){this.input.query=s}setLocation(s){this.input.location=s}setSearch(s){var e,p;this.search.searchType=s.searchType,this.search.query=s.query,this.search.location=s.location,this.search.queryId=s.queryId,this.search.locationId=s.locationId,this.search.lat=s.lat,this.search.lng=s.lng,this.search.order=s.order;let o=(e=s.location)!=null?e:"";this.search.lat!=null&&this.search.lng!=null&&(o="Current location"),this.setQuery((p=s.query)!=null?p:""),this.setLocation(o)}}const R=t=>(q("data-v-4f6e084f"),t=t(),T(),t),G={class:"article__restaurant-header mobile-margin"},J={class:"restaurant-title-wrapper"},X={class:"article__restaurant-header__order"},Y={class:"restaurant-distance"},Z={class:"restaurant-description mobile-margin"},O={class:"mobile-margin"},ee={key:0,class:"website-row"},te=R(()=>a("b",null,"Website: ",-1)),se=["href"],ae={key:1,class:"link-row"},re=R(()=>a("b",null,"Address: ",-1)),ne={key:0,class:"top-picks"},oe={class:"top-picks-header"},ie=R(()=>a("div",{class:"top-picks-text"},"Top picks",-1)),le={class:"top-picks-view-menu"},ce={class:"top-pick"},ue={class:"top-pick-name"},de={class:"top-pick-price"},_e={key:0,class:"top-pick-separator"},he=C({__name:"ArticleReestaurantComponent",props:{restaurant:{},index:{}},setup(t){const s=t,o=P(()=>s.restaurant.distance<.1?"In the city centre":Math.round(s.restaurant.distance*10)/10+"km from centre");return(e,p)=>{var f,m;const u=A("router-link");return r(),n("div",null,[a("div",G,[a("div",J,[a("div",null,[a("h2",null,[a("span",X,i(e.index+1)+".",1),c(u,{to:_(y)(_($),{id:(f=e.restaurant.urlSlug)!=null?f:"a"})},{default:b(()=>[g(i(e.restaurant.name),1)]),_:1},8,["to"])])]),a("div",Y,i(o.value),1)]),e.restaurant.reviewScore!=null&&e.restaurant.reviewCount!=null?(r(),V(U,{key:0,class:"article__restaurant-rating",score:e.restaurant.reviewScore,count:e.restaurant.reviewCount,light:!0},null,8,["score","count"])):d("",!0)]),a("p",Z,i(e.restaurant.description),1),a("div",O,[e.restaurant.website!=null?(r(),n("p",ee,[te,a("u",null,[a("a",{href:e.restaurant.website,rel:"nofollow",target:"_blank"},i(e.restaurant.website.length>50?e.restaurant.website.substring(0,50)+"...":e.restaurant.website),9,se)])])):d("",!0),e.restaurant.address!=null?(r(),n("p",ae,[re,g(" "+i(e.restaurant.address),1)])):d("",!0)]),e.restaurant.topPicks.length>0?(r(),n("div",ne,[a("div",oe,[ie,a("div",le,[c(u,{to:_(y)(_($),{id:(m=e.restaurant.urlSlug)!=null?m:"a"})},{default:b(()=>[g("View full menu")]),_:1},8,["to"])])]),(r(!0),n(k,null,S(e.restaurant.topPicks.slice(0,3),(l,v)=>(r(),n("div",{key:l.name},[a("div",ce,[a("div",ue,i(l.name),1),a("div",de,i(l.price),1)]),v<Math.min(e.restaurant.topPicks.length,3)-1?(r(),n("div",_e)):d("",!0)]))),128))])):d("",!0)])}}});var pe=L(he,[["__scopeId","data-v-4f6e084f"]]);const N=t=>(q("data-v-6d5d1ee1"),t=t(),T(),t),me=N(()=>a("div",{class:"article-image background-image-center",style:{"background-image":"url('/images/dishes/62.jpg')"}},null,-1)),ve={class:"container-parent"},ge={class:"container"},ke={class:"row"},ye=N(()=>a("div",{class:"col-lg-2"},null,-1)),fe={class:"col-lg-8 col-xs-12 article-content"},we={key:0},be={class:"mobile-margin"},Se=["innerHTML"],Re={key:0,class:"article-image article-content-image background-image-center",style:{"background-image":"url('/images/dishes/63.jpg')"}},Ie={class:"suggested-text mobile-margin"},$e={key:1},Ce=C({__name:"ArticlePage",setup(t){const s=Q(),o=F(),e=j();return x(W),E(K).getArticle(s.params.url).then(u=>{if(u==null){o.push(y(z));return}e.value=u}),(u,f)=>{const m=A("router-link");return r(),n(k,null,[me,a("div",ve,[a("div",ge,[a("div",ke,[ye,a("div",fe,[e.value!=null?(r(),n("div",we,[a("h1",be,i(e.value.article.h1),1),a("div",{class:"mobile-margin",innerHTML:e.value.article.intro},null,8,Se),(r(!0),n(k,null,S(e.value.article.articleRestaurants,(l,v)=>(r(),n("div",{key:l.restaurantId},[v%2==1?(r(),n("div",Re)):d("",!0),c(pe,{restaurant:l,index:v,class:"article-restaurant"},null,8,["restaurant","index"])]))),128)),a("div",Ie,i(e.value.suggestedArticlesText),1),(r(!0),n(k,null,S(e.value.suggestedArticles,l=>(r(),n("div",{key:l.id,class:"suggested-article mobile-margin"},[c(m,{to:_(y)(_(H),{url:l.urlSlug})},{default:b(()=>[g(i(l.h1),1)]),_:2},1032,["to"])]))),128))])):(r(),n("div",$e,[c(h,{width:"300px",height:"50px"}),c(h,{width:"100%",height:"200px"}),c(h,{width:"100%",height:"50px"}),c(h,{width:"100%",height:"50px"}),c(h,{width:"100%",height:"50px"})]))])])])])],64)}}});var Pe=L(Ce,[["__scopeId","data-v-6d5d1ee1"]]);export{Pe as default};
